<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JustCondominio</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'core/css/bootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/estilos.css' %}">

</head>

<body>
    <nav id= "navbar" class="navbar navbar-expand-lg bg-light" >
        <div class="container-fluid">
            <a id="title" href="#" class="navbar-brand">
                <img id="img" src="{% static 'core/img/icon.png' %}" alt="We share" loading="lazy"
                    class="navbar-brand__img" style="height:97px ; width:97px" >
                    JUST-CONDOMINIO
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto" style="padding-right: 10px ;">
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'base' %}">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="http://127.0.0.1:8000/admin"></a>
                    </li>

                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="{% url 'base' %}">Inicio</a></li>
                        <li><a class="dropdown-item" href="http://127.0.0.1:8000/admin"></a></li>
                    </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Deserunt, dolorum unde tempora iure excepturi voluptatem ab provident. Consectetur odit, ea voluptas laborum itaque ipsam at aliquid recusandae commodi, ipsa non.
    Molestiae omnis mollitia, id aut autem inventore, ullam quisquam vitae sapiente natus et ab quibusdam. Dolore, eos, doloremque in cumque distinctio ea, doloribus quos natus aspernatur molestias quaerat excepturi eligendi.
    </p>
    {%block content %}
        <div class="mt-3">
            <div class="row mb-3">
                <div class="col-3 offset-9">
                    <a href="http://127.0.0.1:8000/admin" class="btn btn-primary float-right" >
                        AÃ±adir correspondencia
                    </a>
                </div>
            </div>
            {% if Correspondencia %}
                {% for i in Correspondencia %}
                    {% if forloop.first%}<div class="row">{%endif%}
                        <div class="col-4">
                            <div class="card">
                                <img class="card-img-top" style="height:200px ; width:150" src="{% static 'core/img/paquete.png' %}">
                                <div class="card-body">
                                    <h class="card-title">Remitente: {{i.remitente}}</h>
                                    <hr />
                                    <h class="card-subtitle">Destinatario: {{i.destinatario}}</h>
                                    <hr />
                                    <h class="card-subtitle">Numero Residencia: {{i.numero_res.numero_res}}</h>
                                    <hr />
                                    <h class="card-subtitle">Estado: {{i.estado}}</h>
                                    <hr />
                                    <h class="card-subtitle">Fecha Recepcion: {{i.fecha_recepcion}}</h>
                                    <hr />
                                    <h class="card-subtitle">Conserje: {{i.conserje}}</h>
                                    <hr />
                                </div>
                            </div>
                        </div>
                    {%if forloop.counter|divisibleby:3%}</div><div class="row">{%endif%}
                    {% if forloop.last%}</div>{%endif%}
                {% endfor %}
            {% else %}
            <div class="alert alert-danger">Se encuentra vacio </div>
            {% endif %}
        </div>  
        <br><br>

    {% endblock %}

    <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Buscar por numero de residencia..">

    <table id="myTable">
     <tr class="header">
       <th style="width:15%;">Numero Residencia</th>
       <th style="width:15%;">Fecha Recepcion</th>
       <th style="width:15%;">Conserje</th>
       <th style="width:15%;">Remitente</th>
       <th style="width:15%;">Destinatario</th>
       <th style="width:15%;">Estado</th>
     </tr>
     {%for i in Correspondencia%}
     <tr>
        <td>{{i.numero_res.numero_res}}</td>
        <td>{{i.fecha_recepcion}} </td>
        <td>{{i.conserje}} </td>
        <td>{{i.remitente}} </td>
        <td>{{i.destinatario}} </td>
        <td>{{i.estado}} </td>
     </tr>
    {%endfor%}
    </table>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
        integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous">
    </script>
    <script>
        function myFunction() {

        var input, filter, table, tr, td, c, txtValue;
        input = document.getElementById("myInput");
        filter = input.value.toUpperCase();
        table = document.getElementById("myTable");
        tr = table.getElementsByTagName("tr");
        
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[0];
        if (td) {
            txtValue = td.textContent || td.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
            tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
            }
        }
        }
    }
    </script>
    <br><br>
    <footer>
        <img src="{% static 'core/img/icon.png' %}" alt="" class="logo" style="height:97px ; width:97px">
        <div class="social-icons-container">
            <a href="https://www.instagram.com/" class="social-icon"></a>
            <a href="https://es-la.facebook.com/" class="social-icon"></a>
            <a href="https://twitter.com/" class="social-icon"></a>
        </div>
        <span class="copyright">&copy;2022, JUST-CONDOMINIO</span>
    </footer>

</body>

</html>